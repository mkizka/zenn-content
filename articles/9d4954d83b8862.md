---
title: "Markdown-itのプラグインの作り方"
emoji: "⬇️"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["typescript", "markdownit", "markdown"]
published: false
---

VSCode拡張機能のMarkdownプレビューは、なんと`extendMarkdownIt`という関数を定義するだけで拡張することが出来ます。

https://code.visualstudio.com/api/extension-guides/markdown-extension#adding-support-for-new-syntax-with-markdownit-plugins

```ts:extension.ts
import * as vscode from 'vscode';

export function activate(context: vscode.ExtensionContext) {
  return {
    extendMarkdownIt(md: any) {
      return md.use(require('markdown-it-emoji'));
    }
  };
}
```

`"markdown-it-emoji"`のようなプラグインを作って差し込むだけで、VSCodeのMarkdownを拡張できます。

そうして「markdown-it plugin tutorial」とかで検索してみたのですが、全然よい情報がありません。

検索結果の一番上に出てきた「How to write plugins?」というIssueには、

> Interested in a how-to tutorial. Awesome. We are not! So you can either write it yourself, or hire somebody.
> https://github.com/markdown-it/markdown-it/issues/10#issuecomment-68269384

と書かれています。いっそ気持ちがいい感じですね。

OSSでのユーザー要求への対応は何かと問題になりますが、むしろこれくらいの姿勢が良いのかもしれません。

## プラグインの作り方
